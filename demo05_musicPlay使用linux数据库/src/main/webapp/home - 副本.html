<!DOCTYPE html>
<html lang="en" xmlns:v-bind="hello">
<head>

    <meta charset="UTF-8">
    <title>Title</title>
    <style>
  .el-table .warning-row {
    background: oldlace;
  }

  .el-table .success-row {
    background: #f0f9eb;
  }
</style>
</head>
<body>
<div id="loginDiv">
    <form action="/web-demo/loadServlet2" method="post" id="form">

        <div id="subDiv">
            <input type="submit" class="button" value="刷新音乐">
        </div>
    </form>
</div>
<div id="app">
<audio id="music" v-bind:src="musicPath" loop autoplay></audio>
<!--表单-->
<el-form :inline="true" :model="Song" class="demo-form-inline">
<el-form-item label="当前状态">
    <el-select v-model="Song.status" placeholder="当前状态">
      <el-option label="启用" value="1"></el-option>
      <el-option label="禁用" value="0"></el-option>
    </el-select>
  </el-form-item> 
  <el-form-item label="歌曲名称">
    <el-input v-model="Song.SongName" placeholder="歌曲名称"></el-input>
	
  </el-form-item>
  <el-form-item label="歌手">
    <el-input v-model="Song.Singer" placeholder="歌手"></el-input>
  </el-form-item>
  <el-form-item>
    <el-button type="primary" @click="onSubmit">查询</el-button>
  </el-form-item>
</el-form>

<!--按钮-->
<el-row>
<el-button type="danger" plain>批量删除</el-button>
<el-button type="primary" plain @click="dialogVisible = true">新增</el-button>
</el-row>
<!--添加数据对话框-->
<el-dialog
  title="提示"
  :visible.sync="dialogVisible"
  width="30%"
  >
  <span>这是一段信息</span>
  <span slot="footer" class="dialog-footer">
    <el-button @click="dialogVisible = false">取 消</el-button>
    <el-button type="primary" @click="dialogVisible = false">确 定</el-button>
  </span>
</el-dialog>

<!--表格-->
    <template>
		<el-table
		:data="tableData"
		style="width: 100%"
		:row-class-name="tableRowClassName"
		@selection-change="handleSelectionChange"
		>
		
			<el-table-column
			  type="selection"
			  width="55">
			</el-table-column>
			
			<el-table-column
			  type="index"
			  width="50">
			</el-table-column>
			
			<el-table-column
			align="center"
			label="歌曲名称"
			>
				<template slot-scope="scope">
					<span style="margin-left: 10px">{{ scope.row.SongName }}</span>
				</template>
			</el-table-column>
			
			<el-table-column
			align="center"
			prop="Singer"
			label="歌手"
			>
			</el-table-column>
			
			<el-table-column
			align="center"
			prop="status"
			label="当前状态"
			>
			</el-table-column>
			
			<el-table-column
			align="center"
			label="操作"
			>
				<template slot-scope="scope">
					<el-button @click="playMusic(scope.row)" type="primary" >播放</el-button>
				</template>
			</el-table-column>
		</el-table>
	</template>






</div>
<script src="js/vue.js"></script>
<script src="element-ui/lib/index.js"></script>
<link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">
<script>
	//1. 创建核心对象
    
				
			new Vue({
        el:"#app",
		methods: {
			playMusic(row){
				//console.log(musicPath);
				//console.log(row.SongName);
				
				
				this.musicPath=row.SongName+".mp3";
				var audio = document.getElementById('music');
				audio.play();
				
				//this.multipleSelection = val;
				
			},
			onSubmit() {
				console.log(this.Song);
			},
			tableRowClassName({row, rowIndex}) {
				if (rowIndex === 1) {
				  return 'warning-row';
				} else if (rowIndex === 3) {
				  return 'success-row';
				}
				return '';
			},
			//复选框选中后执行的方法
			handleSelectionChange(val) {
				this.multipleSelection = val;
				console.log(this.multipleSelection);
			}
		},
		data() {
      return {
	  musicPath:"",
	  //新增数据是否显示
	   dialogVisible: false,
	  //搜索表单数据
	  Song: {
          status: '',
          SongName: '',
		  Singer:''
        },
		multipleSelection: [],
        tableData: [{
          SongName: '富士山下',
          Singer: '陈奕迅',
		  status:"1"
        }, {
		SongName: '一千个伤心的理由',
          Singer: '张学友',
		  status:"1"
        }, {
          SongName: '喜欢你',
          Singer: '邓紫棋',
		  status:"1"
        }]
      }
    }
    })
	


    
</script>

</body>
</html>